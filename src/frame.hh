#ifndef WX_TABLE_APP_HH_
#define WX_TABLE_APP_HH_

#include <vector>

#include "wx/wxprec.h"
#include "wx/wx.h"
#include "wx/splitter.h"
#include "wx/grid.h"
#include "wx/image.h"
#include "wx/imaglist.h"
#include "wx/treectrl.h"
#include "wx/artprov.h"
#if wxUSE_STC
#include "wx/stc/stc.h"
#endif
#include "wx/display.h"

#include "wodbc.hh"

/////////////////////////////////////////////////////////////////////////////////////////////////////
//widget IDs
/////////////////////////////////////////////////////////////////////////////////////////////////////

enum
{
  ID_TREE_TABLES = wxID_HIGHEST + 1,
  ID_BUTTON_RUN_SQL
};

/////////////////////////////////////////////////////////////////////////////////////////////////////
//PanelBrowser
/////////////////////////////////////////////////////////////////////////////////////////////////////

class PanelBrowser : public wxPanel
{
public:
  PanelBrowser(wxWindow* parent);
private:
  void OnTreeSelectionChanged(wxTreeEvent& evt);
  wxTreeCtrl* tree;
private:
  DECLARE_EVENT_TABLE()
};

/////////////////////////////////////////////////////////////////////////////////////////////////////
//PanelSQLBar
/////////////////////////////////////////////////////////////////////////////////////////////////////

class PanelSQLBar : public wxPanel
{
public:
  PanelSQLBar(wxWindow* parent);
  void OnRun(wxCommandEvent& event);
private:
  DECLARE_EVENT_TABLE()
};

/////////////////////////////////////////////////////////////////////////////////////////////////////
//PanelSQL
/////////////////////////////////////////////////////////////////////////////////////////////////////

class PanelSQL : public wxPanel
{
public:
  PanelSQL(wxWindow* parent);
  wxSplitterWindow* splitter;
  void make_query(const wxString& sql);
private:
  DECLARE_EVENT_TABLE()
};

/////////////////////////////////////////////////////////////////////////////////////////////////////
//PanelCurrent
/////////////////////////////////////////////////////////////////////////////////////////////////////

class PanelCurrent : public wxPanel
{
public:
  PanelCurrent(wxWindow* parent);

  void make_odbc_query(const wxString& sql);

  wxSplitterWindow* splitter;
private:
  DECLARE_EVENT_TABLE()
};

/////////////////////////////////////////////////////////////////////////////////////////////////////
//DialogConnect
/////////////////////////////////////////////////////////////////////////////////////////////////////

class DialogConnect : public wxDialog
{
public:
  DialogConnect(const wxString& title);
};

/////////////////////////////////////////////////////////////////////////////////////////////////////
//wxAppTables
/////////////////////////////////////////////////////////////////////////////////////////////////////

class wxAppTables : public wxApp
{
public:
  virtual bool OnInit() wxOVERRIDE;
  virtual int OnExit() wxOVERRIDE;

  wodbc_t query;
};

/////////////////////////////////////////////////////////////////////////////////////////////////////
//wxFrameTables
/////////////////////////////////////////////////////////////////////////////////////////////////////

class wxFrameTables : public wxFrame
{
public:
  wxFrameTables(const wxString& title);
  void OnQuit(wxCommandEvent& event);
  void OnAbout(wxCommandEvent& event);
  wxSplitterWindow* splitter;

  std::vector<std::string> list_databases_;
  std::vector<std::string> list_tables_;

private:
  wxDECLARE_EVENT_TABLE();

};

#endif
